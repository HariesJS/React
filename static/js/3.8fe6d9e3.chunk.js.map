{"version":3,"sources":["../node_modules/reselect/es/index.js","components/users/usersSelectors.js","paginator/paginator.jsx","components/users/Users.jsx"],"names":["defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","i","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","map","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","push","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers","state","usersPage","users","filter","Paginator","totalCount","currentPage","changePage","port","pages","portCount","Math","ceil","portSize","useState","portion","setPortion","left","right","onClick","className","e","updatePage","key","Users","dispatch","useDispatch","useSelector","isDisabled","isLoad","loadUsers","useCallback","page","getUsersThunk","useEffect","id","name","to","src","photos","large","alt","width","followed","disabled","some","unfollow","follow"],"mappings":"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","file":"static/js/3.8fe6d9e3.chunk.js","sourcesContent":["function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  } // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n\n\n  var length = prev.length;\n\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n  var lastArgs = null;\n  var lastResult = null; // we reference arguments instead of spreading them for performance reasons\n\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      return memoizedResultFunc.apply(null, params);\n    });\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n\n    selector.recomputations = function () {\n      return recomputations;\n    };\n\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n\n    return selector;\n  };\n}\nexport var createSelector = createSelectorCreator(defaultMemoize);\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { createSelector } from 'reselect';\n\nconst getUsersSelector = state => {\n    return state.usersPage.users;\n}\n\nexport const getUsers = createSelector(getUsersSelector, users => {\n    return users.filter(() => true);\n});","import React, { Fragment, useState } from 'react';\nimport '../App.css';\n\nconst Paginator = ({ totalCount, currentPage, changePage, port = 10 }) => {\n    const pages = [];\n\n    const portCount = Math.ceil(totalCount / 30);\n\n    for (let i = 1; i <= portCount; i++) {\n        pages.push(i);\n    }\n\n    const portSize = Math.ceil(portCount / port);\n    \n    const [portion, setPortion] = useState(1);\n    const left = (portion - 1) * port + 1;\n    const right = portion * port;\n    \n    const updatePage = e => {\n        if (e !== currentPage) {\n            changePage(e);\n        }\n    }\n    return (\n        <Fragment>\n            <div>{\n                portion > 1 && <span onClick={() => setPortion(portion - 1)} className='paginator'>{'<'}</span>\n            }{\n                pages.filter(e => e >= left && e <= right).map(e => (\n                    <div onClick={() => updatePage(e)} key={e} className={currentPage === e ? 'paginator-active' : 'paginator'}>\n                        <span>{e}</span>\n                    </div>\n                ))\n            }{\n                portion < portSize && <span onClick={() => setPortion(portion + 1)} className='paginator'>{'>'}</span>\n            }</div>\n        </Fragment>\n    )\n}\n\nexport default Paginator;","import React, { Fragment, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../../App.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getUsersThunk, follow, unfollow } from '../../redux/reducers/usersReducer/usersReducer';\nimport { getUsers } from './usersSelectors';\nimport Paginator from '../../paginator/paginator';\n\nconst Users = () => {\n    const dispatch = useDispatch();\n    const users = useSelector(state => getUsers(state));\n    const isDisabled = useSelector(state => state.usersPage.isDisabled);\n    const isLoad = useSelector(state => state.usersPage.isLoad);\n    const totalCount = useSelector(state => state.usersPage.totalCount);\n    const currentPage = useSelector(state => state.usersPage.currentPage);\n\n    const loadUsers = useCallback(page => dispatch(getUsersThunk(page)), [getUsersThunk])\n\n    useEffect(() => {\n        loadUsers();\n    }, []);\n\n    const changePage = page => {\n        loadUsers(page);\n    }\n\n    const userImage = 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/User_icon_2.svg/220px-User_icon_2.svg.png';\n    return (\n        <Fragment>\n            <div className='users-wrapper'>\n                <span className='users-title'>All users of this site</span>\n                <Paginator totalCount={totalCount} currentPage={currentPage} changePage={changePage} />\n                {isLoad\n                ? <div className='users-loader'>LOADING...</div>\n                : <div className='parrent-block'>{\n                    users.map(e => (\n                        <div className='user-block' key={e.id}>\n                            <div>{e.name} | {e.id}</div>\n                            <div>\n                                <Link to={`/profile/${e.id}`}>\n                                    <img src={e.photos.large || userImage} alt='' width='100%' />\n                                </Link>\n                            </div>\n                            <div>{\n                                e.followed\n                                ? <button disabled={isDisabled.some(id => id === e.id)} onClick={() => dispatch(unfollow(e.id))}>Unfollow</button>\n                                : <button disabled={isDisabled.some(id => id === e.id)} onClick={() => dispatch(follow(e.id))}>Follow</button>\n                            }</div>\n                        </div>\n                    ))\n                }</div>\n            }\n            </div>\n        </Fragment>\n    )\n}\n\nexport default Users;"],"sourceRoot":""}